# Material Combiner Addon (yequ ä¿®æ”¹ç‰ˆ)

[![GitHub release (latest by date)](https://img.shields.io/github/v/release/Grim-es/material-combiner-addon)](https://github.com/Grim-es/material-combiner-addon/releases/latest)
[![GitHub issues](https://img.shields.io/github/issues/Grim-es/material-combiner-addon)](https://github.com/Grim-es/material-combiner-addon/issues)
[![GitHub stars](https://img.shields.io/github/stars/Grim-es/material-combiner-addon)](https://github.com/Grim-es/material-combiner-addon/stargazers)

#### ä¸€ä¸ª Blender æ’ä»¶ï¼Œé€šè¿‡åœ¨ä¸æŸå¤±è´¨é‡çš„æƒ…å†µä¸‹åˆå¹¶çº¹ç†å¹¶é¿å… UV è¾¹ç•Œå¤§äº 0-1 çš„é—®é¢˜ï¼Œå¸®åŠ©å‡å°‘æ¸¸æˆå¼•æ“ä¸­çš„ Draw Callã€‚

**æœ¬ç‰ˆæœ¬ç”± bilibili:å¤œæ›²_flac åœ¨åŸç‰ˆæ’ä»¶åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹å’Œå¢å¼ºã€‚**

---

## ğŸŒŸ æ–°å¢åŠŸèƒ½

æ­¤ç‰ˆæœ¬åœ¨åŸæœ‰åŠŸèƒ½åŸºç¡€ä¸Šå¢åŠ äº†å¯¹æ¬¡ä¸–ä»£æ¸¸æˆæµç¨‹è´´å›¾çš„å…¨é¢æ”¯æŒï¼š

1.  **å¤šé€šé“è´´å›¾åˆå¹¶æ”¯æŒ**ï¼š
    *   é™¤äº†åŸºç¡€é¢œè‰²ï¼ˆDiffuseï¼‰å¤–ï¼Œç°åœ¨æ”¯æŒ **æ³•çº¿è´´å›¾ (Normal)** å’Œ **ORM è´´å›¾ (Occlusion, Roughness, Metallic)** çš„åˆå¹¶ã€‚
    *   ç”Ÿæˆçš„ Atlas å°†è‡ªåŠ¨åŒ…å« `_D` (é¢œè‰²), `_N` (æ³•çº¿), `_ORM` (æ··åˆé€šé“) ä¸‰å¼ è´´å›¾ã€‚

2.  **æ™ºèƒ½æ··åˆè´´å›¾å¤„ç†**ï¼š
    *   è‡ªåŠ¨è¯†åˆ«å¹¶å¤„ç†æ··åˆè´´å›¾é…ç½®ï¼ˆå¦‚ ORM æˆ– MRO è´´å›¾ï¼‰ã€‚
    *   æ”¯æŒå°†ç‹¬ç«‹çš„ AOã€ç²—ç³™åº¦ï¼ˆRoughnessï¼‰ã€é‡‘å±åº¦ï¼ˆMetallicï¼‰è´´å›¾é€šé“æ‰“åŒ…æˆæ ‡å‡†çš„ ORM æ ¼å¼ï¼ˆçº¢=AOï¼Œç»¿=ç²—ç³™åº¦ï¼Œè“=é‡‘å±åº¦ï¼‰ã€‚

3.  **æ™ºèƒ½ç¼ºçœå€¼å¡«å……**ï¼š
    *   å½“æè´¨ç¼ºå¤±æŸäº›è´´å›¾é€šé“æ—¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨ä½¿ç”¨æ ‡å‡†é»˜è®¤å€¼å¡«å……ï¼Œç¡®ä¿åˆå¹¶åçš„ Atlas å®Œæ•´å¯ç”¨ï¼š
        *   **æ³•çº¿**ï¼šè‡ªåŠ¨å¡«å……å¹³å¦æ³•çº¿ (RGB: 128, 128, 255)ã€‚
        *   **AO**ï¼šè‡ªåŠ¨å¡«å……çº¯ç™½ (1.0)ã€‚
        *   **ç²—ç³™åº¦**ï¼šè‡ªåŠ¨å¡«å……å…¨ç²—ç³™ (1.0)ã€‚
        *   **é‡‘å±åº¦**ï¼šè‡ªåŠ¨å¡«å……éé‡‘å± (0.0)ã€‚

4.  **è‡ªåŠ¨åˆ†è¾¨ç‡é€‚é…**ï¼š
    *   è§£å†³äº†ä¸åŒé€šé“è´´å›¾åˆ†è¾¨ç‡ä¸ä¸€è‡´çš„é—®é¢˜ï¼ˆä¾‹å¦‚ 2K çš„é¢œè‰²è´´å›¾é… 64x64 çš„çº¯è‰²æ³•çº¿ï¼‰ã€‚æ’ä»¶ä¼šè‡ªåŠ¨å°†å°å°ºå¯¸è´´å›¾ç¼©æ”¾ä»¥åŒ¹é…ç›®æ ‡ Atlas åŒºåŸŸï¼Œé˜²æ­¢å‡ºç°é”™ä½æˆ–ç©ºç™½ã€‚

5.  **è§„èŒƒåŒ–æ–‡ä»¶å‘½å**ï¼š
    *   è¾“å‡ºæ–‡ä»¶è‡ªåŠ¨æ·»åŠ åç¼€ä»¥ä¾¿è¯†åˆ«ï¼š
        *   `Atlas_XXXX_D.png` (é¢œè‰²)
        *   `Atlas_XXXX_N.png` (æ³•çº¿)
        *   `Atlas_XXXX_ORM.png` (ORM)

---

## åŸå§‹åŠŸèƒ½ (Features)

*   **å¤šæè´¨åˆå¹¶**ï¼šå…è®¸æ··åˆæ¼«åå°„é¢œè‰²ä¸çº¹ç†ï¼Œå¹¶æŒ‡å®šç”Ÿæˆçš„å›¾é›†å¤§å°åŠæ¯ä¸ªçº¹ç†çš„å¤§å°ã€‚
*   **å¤šé‡åˆå¹¶**ï¼šä¸ºæ¯ä¸ªæè´¨æ·»åŠ å›¾åƒå±‚ï¼Œå°†å…¶åˆå¹¶åˆ°ä¸åŒçš„å›¾é›†ä¸­ã€‚
*   **UV æ‰“åŒ…**ï¼šé€šè¿‡æ‹†åˆ†ç½‘æ ¼é¢å°† UV æ‰“åŒ…åˆ°é€‰å®šçš„æ¯”ä¾‹èŒƒå›´å†…ï¼Œå¹¶å…¼å®¹ç»‘å®šæ¨¡å‹ã€‚

## å®‰è£…æŒ‡å— (Installation)

1.  ä¸‹è½½æ’ä»¶å‹ç¼©åŒ…ã€‚
2.  æ‰“å¼€ Blenderï¼Œè¿›å…¥ `Edit` (ç¼–è¾‘) > `Preferences` (åå¥½è®¾ç½®) > `Add-ons` (æ’ä»¶)ã€‚
3.  ç‚¹å‡» `Install...` (å®‰è£…...)ã€‚
4.  é€‰æ‹©ä¸‹è½½çš„ zip å‹ç¼©åŒ…ã€‚
5.  å‹¾é€‰ `Material Combiner` å¯ç”¨æ’ä»¶ã€‚

## ä½¿ç”¨æ–¹æ³• (How to Use)

1.  å®‰è£…å¹¶å¯ç”¨æ’ä»¶åï¼Œè¿›å…¥ Blender çš„ 3D è§†å›¾ã€‚
2.  æŒ‰ `N` é”®æ‰“å¼€ä¾§è¾¹æ ã€‚
3.  æ‰¾åˆ° **MatCombiner** æ ‡ç­¾é¡µã€‚
4.  ä½ ä¼šçœ‹åˆ°å¯¹è±¡åŠå…¶å¯¹åº”æè´¨çš„åˆ—è¡¨ï¼š
    *   ä½ å¯ä»¥å‹¾é€‰/å–æ¶ˆå‹¾é€‰æè´¨æ—çš„æ–¹æ¡†æ¥å†³å®šæ˜¯å¦åŒ…å«åœ¨åˆå¹¶è¿‡ç¨‹ä¸­ã€‚
    *   æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ **Select All** (å…¨é€‰) æˆ– **Deselect All** (å…¨ä¸é€‰) æŒ‰é’®ã€‚
5.  å¯¹äºæ²¡æœ‰å›¾ç‰‡çš„æè´¨ï¼Œå¯ä»¥è®¾ç½®é»˜è®¤å¤§å°ï¼ˆé»˜è®¤ä¸º 32 åƒç´ ï¼‰ã€‚
6.  é€‰æ‹©å®Œæ¯•åï¼Œç‚¹å‡» `Save atlas to..` æŒ‰é’®å¼€å§‹åˆå¹¶è¿‡ç¨‹ã€‚

## å¸¸è§é—®é¢˜ (Known Issues)

### ç‚¹å‡» "Save atlas toâ€¦" åæè´¨åªæ˜¯ç®€å•åˆå¹¶æˆ–å›¾é›†ç¼ºå¤±çº¹ç†
*   çº¹ç†è¢«æ‰“åŒ…åœ¨ .blend æ–‡ä»¶ä¸­ã€‚è¯·å…ˆä¿å­˜ .blend æ–‡ä»¶ï¼Œç„¶åè½¬åˆ° `File` > `External Data` > `Unpack Resources` å°†çº¹ç†è§£å‹å‡ºæ¥ã€‚
*   å¦‚æœæ‚¨ä½¿ç”¨çš„ Blender éè‹±æ–‡ç‰ˆï¼ŒèŠ‚ç‚¹åç§°å¯èƒ½ä¸åŒã€‚å»ºè®®åˆ‡æ¢åˆ°è‹±æ–‡ç‰ˆ Blender å¹¶é‡æ–°å¯¼å…¥æ¨¡å‹ä»¥é‡æ–°ç”ŸæˆèŠ‚ç‚¹ã€‚
*   ä½¿ç”¨äº†ä¸æ”¯æŒçš„ç€è‰²å™¨æˆ–é”™è¯¯çš„èŠ‚ç‚¹åç§°ã€‚

### æŠ¥é”™ "NameError: name 'Dict' is not defined" æˆ– "module ... has no attribute 'make_annotations'"
*   **å·²åœ¨æœ¬ç‰ˆæœ¬ä¸­ä¿®å¤**ï¼šè¿™äº›æ˜¯åŸç‰ˆæ’ä»¶åœ¨è¾ƒæ–° Python/Blender ç‰ˆæœ¬ä¸­çš„å…¼å®¹æ€§é—®é¢˜ï¼Œyequ ä¿®æ”¹ç‰ˆå·²ä¿®å¤è¿™äº›å®‰è£…é”™è¯¯ã€‚

---

#### åŸä½œè€…ä¿¡æ¯
Original Addon by [shotariya](https://github.com/Grim-es/material-combiner-addon)
If you like the original add-on, you can support the original author on Patreon or Buy me a coffee.
[<img src="http://webgrimes.com/buymeacoffee.svg" height="40px">](https://www.buymeacoffee.com/shotariya)
[<img src="http://webgrimes.com/patreon.png" height="40px">](https://www.patreon.com/join/shotariya?)
